# Hyper-V を使用して比較的安全にブラウズ

数年に一度うっかり怪しい URL にアクセスしてしまうことへの対策。  
Windows Sandbox を使えばいいのだが、毎回ブラウザや IME のインストール & 設定がめんどくさい。

Hyper-V が有効になっていることを前提とする。

## Hyper-V の初期設定

Hyper-V マネージャを起動し、左ペインのツリーから自身のマシン名を選択する。

右ペインから `[Hyper-V の設定...]` を選択する。

### サーバ
* 仮想ハードディスク
* 仮想マシン  
保存先を選択する。  
デフォルトがシステムドライブなのでできれば場所を変えたい。
* 拡張セッション モード ポリシー
拡張セッションモードを許可する。  
(RDP で接続できるようになる)

## ブラウズ用 VM 作成

右ペインから `[クイック作成...]` を選択する。

仮想マシン作成ウィザードが開くので、以下の内容を設定して `仮想マシンの作成` ボタンを押下する。  
(必要に応じて変更すること)

* オペレーティングシステムの作成  
Windows 11 開発環境 

* 名前  
WebSandbox  
(その他のオプションを選択すると入力欄が現れる)

しばらく時間がかかるので待機する。

`仮想マシンが正常に作成されました` と表示されれば作成完了。

## ブラウズ用 VM 設定
仮想マシンが作成されたら `設定の編集` を押下する。

### ハードウェア
* メモリ  
動的メモリを有効にするのチェックを外す

* プロセッサ  
仮想プロセッサ数を 8 くらいまで減らす。

### 管理
* 統合サービス  
ゲストサービスにチェックを入れる  
(ホストと VM 間のファイルコピー用)

* チェックポイント  
運用チェックポイントにチェックを入れる

## 起動
あとは接続なり起動なり。
